<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="doctor-quick-appointment__sms-codes" id="input-codes">
      <input
        class="code-1"
        type="text"
        name="code"
        maxlength="1"
        inputmode="numeric"
      />
      <input
        class="code-2"
        type="text"
        name="code"
        maxlength="1"
        inputmode="numeric"
      />
      <input
        class="code-3"
        type="text"
        name="code"
        maxlength="1"
        inputmode="numeric"
      />
      <input
        class="code-4"
        type="text"
        name="code"
        maxlength="1"
        inputmode="numeric"
      />
      <input
        class="code-5"
        type="text"
        name="code"
        maxlength="1"
        inputmode="numeric"
      />
    </div>

    <script>
      const codes = document.querySelectorAll(
        ".doctor-quick-appointment__sms-codes input"
      );
      if (codes.length) {
        codes.forEach((input, index) => {
          // // Sadece input'lara tıklandığında ilk inputa focuslanma
          // input.addEventListener("click", function() {
          //     codes[0].focus();
          // });

          // Karakter girildiğinde bir sonraki inputa geçiş
          input.addEventListener("keyup", function () {
            if (this.value && index < codes.length - 1) {
              codes[index + 1].focus();
            }
          });

          // Backspace ile bir önceki inputa geçiş
          input.addEventListener("keydown", function (event) {
            if (event.key === "Backspace" && this.value === "") {
              if (index > 0) {
                codes[index - 1].focus();
              }
            }
          });

          input.addEventListener('input',(e)=>{
          const [first,...rest] = e.target.value
          var _first;
          e.target.value = (_first = first) !== null && _first !== void 0 ? _first : '';
          const lastInputBox = index===codes.length-1
          const didInsertContent = first!==undefined
          if(didInsertContent && !lastInputBox) {
            codes[index+1].focus()
            codes[index+1].value = rest.join('')
            codes[index+1].dispatchEvent(new Event('input'))
          }
        })
        });
      }
      
    </script>
  </body>
</html>
